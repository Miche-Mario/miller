var MillerElectric=MillerElectric||{};(function(n){MillerElectric.NewsletterModal={config:{IsUserLoggedIn:!1,NewslettersPageUrl:""},vars:{$newsletterModal:{}},init:function(){var t=MillerElectric.NewsletterModal,u=n.extend(!0,t.config,t.serverConfig),i=t.vars,r;i.$newsletterModal=n("#newsletters-signup-modal"),r={over:t.onToolTipOver,timeout:200,out:t.onToolTipOut},i.$newsletterModal.find(".tooltip-icon").hoverIntent(r);n("footer").find("a[href='/resources/newsletters']").on("click",t.initModal);n("footer").find("a[href='/newsletters']").on("click",t.initModal);n(".js--eNewslettersLink").on("click",t.initModal)},initModal:function(t){var r=MillerElectric.NewsletterModal,i=MillerElectric.NewsletterModal.config,u=r.vars;if(t.preventDefault(),i.IsUserLoggedIn){window.location.href=i.NewslettersPageUrl;return}u.$newsletterModal.modal({close:!0,height:"auto",escClose:!0,fixed:!1,overlayClose:!0,closeClass:"close",opacity:90,onShow:function(t){var i=t;n(t.data).find(".newsletter-sign-up-button").on("click",GoogleRecaptcha.submitForm)}})},onToolTipOver:function(){var e=MillerElectric.NewsletterModal,r=e.vars,t=n(this),o=t.attr("title"),u=t.position(),s={title:t.prev("label").text(),copy:o},i,f;return n.tmpl("tooltip",s).appendTo(r.$newsletterModal),i=r.$newsletterModal.find(".tooltip"),f={top:u.top+t.outerHeight()/2-i.outerHeight()/2,left:u.left+25},i.css(f).fadeIn("fast"),!1},onToolTipOut:function(){var t=MillerElectric.NewsletterModal,i=t.vars,n=i.$newsletterModal.children(".tooltip");return n.stop().fadeOut("fast",function(){n.remove()}),!1}},MillerElectric.NewsletterModal.init()})(jQuery)